(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[9],{227:function(e,t,n){"use strict";n(114);var a,o=n(29),l=n.n(o),i=(n(230),n(231)),r=n.n(i),s=(n(232),n(233)),c=n.n(s),u=(n(112),n(113)),p=n.n(u),f=n(14),h=n(15),d=n(22),m=n(21),v=n(23),g=(n(234),n(235)),y=n.n(g),b=n(0),C=n.n(b),w=(n(228),n(42)),O=n(1),_=n.n(O),j=n(10),x=n(54),E=y.a.Item,S=Object(w.b)((function(e){return{}}))(a=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).goback=function(){j.c.go(-1),e.props.dispatch(Object(x.a)(localStorage.oldTab))},e.goSearch=function(){j.c.push("/search")},e.state={isSearch:!1},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.location);var e=this.props.location.pathname.split("/")[1];"search"!==e&&"login"!==e&&"scan"!==e&&"detail"!==e||this.setState({isSearch:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.show,o=t.scan,l=t.login;return C.a.createElement(c.a,{className:"header",mode:"light",icon:a?C.a.createElement(p.a,{type:"left"}):"",onLeftClick:function(){return a?e.goback():console.log("")},rightContent:[!this.state.isSearch&&C.a.createElement(p.a,{key:"0",onClick:this.goSearch,type:"search",style:{marginRight:"16px"}}),C.a.createElement(B,{key:"1",scan:o,login:l})]},n)}}]),t}(b.Component))||a;S.contextTypes={location:_.a.object};var k={onTouchStart:function(e){return e.preventDefault()}},R=function(e){return C.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""})},B=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).handleVisibleChange=function(t){e.setState({visible:t})},e.onSelect=function(t){e.setState({visible:!1,selected:t.props.value}),console.log(t),"login"===t.props.value&&j.c.push("/login"),"scan"===t.props.value&&j.c.push("/scan"),"photo"===t.props.value&&e.showActionSheet()},e.showActionSheet=function(){var e=["\u62cd\u7167","\u76f8\u518c","\u76f4\u63a5\u62cd\u7167","\u5220\u9664","\u53d6\u6d88"];r.a.showActionSheetWithOptions({options:e,cancelButtonIndex:e.length-1,destructiveButtonIndex:e.length-2,message:"wuhan 1909\u624b\u673a\u62cd\u7167",maskClosable:!0,"data-seed":"logId",wrapProps:k},(function(t){console.log(t),l.a.success(e[t]+"success !!!",1)}))},e.state={visible:!1},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.scan,n=e.login;return C.a.createElement(y.a,{mask:!0,className:"header",overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[!t&&C.a.createElement(E,{key:"4",value:"scan",icon:R("tOtXhkIWzwotgGSeptou"),"data-seed":"logId"},"\u626b\u4e00\u626b"),C.a.createElement(E,{key:"5",value:"photo",icon:R("PKAgAqZWJVNwKsAJSmXd"),style:{whiteSpace:"nowrap"}},"\u62cd\u7167"),!n&&C.a.createElement(E,{key:"6",value:"login",icon:R("uQIYTFeRrjPELImDRrPt")},C.a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},C.a.createElement("div",{style:{height:"100%",padding:"0 15px",marginRight:"-15px",display:"flex",alignItems:"center"}},C.a.createElement(p.a,{type:"ellipsis"})))}}]),t}(b.Component);t.a=S},228:function(e,t,n){},240:function(e,t,n){"use strict";n(41),n(241)},241:function(e,t,n){},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(4)),o=c(n(7)),l=c(n(5)),i=c(n(6)),r=c(n(28)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.size,a=e.className,o=e.style,l=e.onClick,i=(0,r.default)(t,t+"-"+n,a);return s.createElement("div",{className:i,style:o,onClick:l})}}]),t}(s.Component);t.default=u,u.defaultProps={prefixCls:"am-whitespace",size:"md"},e.exports=t.default},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(3),l=(a=o)&&a.__esModule?a:{default:a};t.getComponentLocale=function(e,t,n,a){var o={};if(t&&t.antLocale&&t.antLocale[n])o=t.antLocale[n];else{var i=a();o=i.default||i}var r=(0,l.default)({},o);e.locale&&(r=(0,l.default)({},r,e.locale),e.locale.lang&&(r.lang=(0,l.default)({},o.lang,e.locale.lang)));return r},t.getLocaleCode=function(e){var t=e.antLocale&&e.antLocale.locale;if(e.antLocale&&e.antLocale.exist&&!t)return"zh-cn";return t}},244:function(e,t,n){"use strict";n(41),n(245)},245:function(e,t,n){},246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(4)),o=c(n(7)),l=c(n(5)),i=c(n(6)),r=c(n(28)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.size,a=e.className,o=e.children,l=e.style,i=(0,r.default)(t,t+"-"+n,a);return s.createElement("div",{className:i,style:l},o)}}]),t}(s.Component);t.default=u,u.defaultProps={prefixCls:"am-wingblank",size:"lg"},e.exports=t.default},291:function(e,t,n){"use strict";n(41),n(292)},292:function(e,t,n){},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=g(n(3)),o=g(n(18)),l=g(n(4)),i=g(n(7)),r=g(n(5)),s=g(n(6)),c=g(n(28)),u=v(n(0)),p=v(n(1)),f=g(n(229)),h=g(n(115)),d=n(243),m=n(294);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,l.default)(this,t);var n=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onSubmit=function(e){e.preventDefault(),n.props.onSubmit&&n.props.onSubmit(n.state.value||""),n.inputRef&&n.inputRef.blur()},n.onChange=function(e){n.state.focus||n.setState({focus:!0});var t=e.target.value;"value"in n.props||n.setState({value:t}),n.props.onChange&&n.props.onChange(t)},n.onFocus=function(){n.setState({focus:!0}),n.firstFocus=!0,n.props.onFocus&&n.props.onFocus()},n.onBlur=function(){var e;n.onBlurTimeout=(e=function(){n.blurFromOnClear||document.activeElement!==n.inputRef&&n.setState({focus:!1}),n.blurFromOnClear=!1},window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)),n.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),n.props.onBlur())},n.onClear=function(){n.doClear()},n.doClear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.blurFromOnClear=e,"value"in n.props||n.setState({value:""}),n.props.onClear&&n.props.onClear(""),n.props.onChange&&n.props.onChange(""),e&&n.focus()},n.onCancel=function(){n.props.onCancel?n.props.onCancel(n.state.value||""):n.doClear(!1)},n.focus=function(){n.inputRef&&n.inputRef.focus()};var a=void 0;return a="value"in e?e.value||"":"defaultValue"in e?e.defaultValue:"",n.state={value:a,focus:!1},n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){if(this.rightBtnRef){var e=window.getComputedStyle(this.rightBtnRef);this.rightBtnInitMarginleft=e.marginLeft}this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){if(this.syntheticPhRef)if(this.inputContainerRef&&this.inputContainerRef.className.indexOf(this.props.prefixCls+"-start")>-1){if(this.syntheticPhContainerRef){var e=this.syntheticPhContainerRef.getBoundingClientRect().width;this.syntheticPhRef.style.width=Math.ceil(e)+"px"}!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="0")}else this.syntheticPhRef.style.width="100%",!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="-"+(this.rightBtnRef.offsetWidth+(null!=this.rightBtnInitMarginleft?parseInt(this.rightBtnInitMarginleft,10):0))+"px")}},{key:"componentWillReceiveProps",value:function(e){"value"in e&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){var e;this.onBlurTimeout&&(e=this.onBlurTimeout,window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e),this.onBlurTimeout=null)}},{key:"render",value:function(){var e,t=this,l=this.props,i=l.prefixCls,r=l.showCancelButton,s=l.disabled,p=l.placeholder,m=l.className,v=l.style,g=l.maxLength,y=(0,d.getComponentLocale)(this.props,this.context,"SearchBar",(function(){return n(295)})).cancelText,b=this.state,C=b.value,w=b.focus,O=(0,c.default)(i,m,(0,o.default)({},i+"-start",!!(w||C&&C.length>0))),_=(0,c.default)(i+"-clear",(0,o.default)({},i+"-clear-show",!!(w&&C&&C.length>0))),j=(0,c.default)(i+"-cancel",(e={},(0,o.default)(e,i+"-cancel-show",!!(r||w||C&&C.length>0)),(0,o.default)(e,i+"-cancel-anim",this.firstFocus),e));return u.createElement("form",{onSubmit:this.onSubmit,className:O,style:v,ref:function(e){return t.inputContainerRef=e},action:"#"},u.createElement("div",{className:i+"-input"},u.createElement("div",{className:i+"-synthetic-ph",ref:function(e){return t.syntheticPhRef=e}},u.createElement("span",{className:i+"-synthetic-ph-container",ref:function(e){return t.syntheticPhContainerRef=e}},u.createElement("i",{className:i+"-synthetic-ph-icon"}),u.createElement("span",{className:i+"-synthetic-ph-placeholder",style:{visibility:p&&!C?"visible":"hidden"}},p))),u.createElement("input",(0,a.default)({type:"search",className:i+"-value",value:C,disabled:s,placeholder:p,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:function(e){return t.inputRef=e},maxLength:g},(0,h.default)(this.props))),u.createElement(f.default,{activeClassName:i+"-clear-active"},u.createElement("a",{onClick:this.onClear,className:_}))),u.createElement("div",{className:j,onClick:this.onCancel,ref:function(e){return t.rightBtnRef=e}},this.props.cancelText||y))}}]),t}(u.Component);t.default=y,y.defaultProps=m.defaultProps,y.contextTypes={antLocale:p.object},e.exports=t.default},294:function(e,t,n){"use strict";function a(){}Object.defineProperty(t,"__esModule",{value:!0});t.defaultProps={prefixCls:"am-search",placeholder:"",onSubmit:a,onChange:a,onFocus:a,onBlur:a,onClear:a,showCancelButton:!1,disabled:!1}},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cancelText:"\u53d6\u6d88"},e.exports=t.default},296:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);n(244);var a,o=n(246),l=n.n(o),i=(n(240),n(242)),r=n.n(i),s=(n(291),n(293)),c=n.n(s),u=n(14),p=n(15),f=n(22),h=n(21),d=n(23),m=n(0),v=n.n(m),g=(n(296),n(227)),y=n(42),b=n(54),C=Object(y.b)((function(e){return{ldxList:e.getIn(["data","ldxList"])}}))(a=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).gotoDetail=function(e,t){n.props.history.push("/detail/"+e+"?name="+t)},n.todoSearch=function(e){console.log(e),(0,n.props.dispatch)(Object(b.e)({url:"/react/ldx",params:{keyword:e}}))},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.ldxList,n=e.dispatch;!t.length>0&&n(Object(b.e)({url:"/react/ldx",params:{}}))}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props.ldxList;return v.a.createElement("div",{className:"search"},v.a.createElement(g.a,{title:"\u5546\u54c1\u641c\u7d22",show:!0,location:this.props.location}),v.a.createElement(l.a,null,v.a.createElement(c.a,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0",maxLength:8,onSubmit:this.todoSearch}),v.a.createElement(r.a,null)),v.a.createElement("ul",{className:"ldx bounceInUp"},t.map((function(t,n){return v.a.createElement("li",{onClick:function(){return e.gotoDetail(t._id,t.name)},key:n},v.a.createElement("img",{src:t.url,alt:""}),v.a.createElement("div",null,t.name),v.a.createElement("p",{className:"price"},v.a.createElement("span",{style:{color:"red"}},"\uffe5",t.newprice),v.a.createElement("span",null,t.oldprice)))}))))}}]),t}(m.Component))||a;t.default=C}}]);
//# sourceMappingURL=9.bac231e8.chunk.js.map