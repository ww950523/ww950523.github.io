{"version":3,"sources":["scripts/components/head/index.js","assets/images/foot.png","scripts/components/loginfoot/index.js","scripts/views/login/index.js"],"names":["Item","Head","connect","state","goback","history","go","props","dispatch","changeTab","localStorage","oldTab","goSearch","push","isSearch","console","log","this","location","pathname","split","setState","title","show","scan","login","className","mode","icon","type","onLeftClick","rightContent","key","onClick","style","marginRight","Pop","Component","contextTypes","Proptypes","object","wrapProps","onTouchStart","e","preventDefault","myImg","src","alt","handleVisibleChange","visible","onSelect","opt","selected","value","showActionSheet","BUTTONS","showActionSheetWithOptions","options","cancelButtonIndex","length","destructiveButtonIndex","message","maskClosable","buttonIndex","success","mask","overlayClassName","overlayStyle","color","overlay","data-seed","whiteSpace","align","overflow","adjustY","adjustX","offset","onVisibleChange","height","padding","display","alignItems","module","exports","LoginFoot","require","mobileReg","codeReg","Login","checkMobile","mobile","toggle","mobileFlag","test","loginFlag","code","gotoLogin","axios","post","then","res","data","sessionStorage","token","sendCode","computedTime","count","txt","timer","setInterval","clearInterval","checkCode","placeholder","clear","ref","el","onChange","disabled","size","inline"],"mappings":"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","file":"static/js/12.2fc10174.chunk.js","sourcesContent":["\r\nimport React, {Component} from \"react\";\r\nimport \"./index.scss\";\r\n\r\nimport {NavBar,Icon,Popover,ActionSheet,Toast} from \"antd-mobile\"\r\nimport { connect } from \"react-redux\"\r\nimport Proptypes from \"prop-types\"\r\nimport {history} from \"~\";\r\nimport { changeTab } from \"../../actions\";\r\nconst Item=Popover.Item;  //静态属性\r\n\r\n@connect(\r\n  state => (\r\n      {\r\n        \r\n      }\r\n  )\r\n)\r\n\r\n class Head extends Component{\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            isSearch:false\r\n        }\r\n    }\r\n    goback=()=>{\r\n        history.go(-1);\r\n        this.props.dispatch(changeTab(localStorage.oldTab))\r\n    }\r\n    goSearch=()=>{\r\n        history.push(\"/search\")\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log(this.props.location);\r\n        var pathname=this.props.location.pathname.split(\"/\")[1];\r\n        if(pathname===\"search\"||pathname===\"login\"||pathname===\"scan\"||pathname===\"detail\"){\r\n            this.setState({\r\n                isSearch:true\r\n            })\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {\r\n            title,\r\n            show,\r\n            scan,\r\n            login\r\n        } = this.props;\r\n        return (\r\n            <NavBar\r\n            className=\"header\"\r\n            mode=\"light\"\r\n            icon={show?<Icon type=\"left\" />:\"\"}\r\n            onLeftClick={() =>show?this.goback(): console.log('')}\r\n            rightContent={[\r\n              !this.state.isSearch&&<Icon key=\"0\" onClick={this.goSearch} type=\"search\" style={{ marginRight: '16px' }} />,\r\n              <Pop key=\"1\" scan={scan} login={login}/>,\r\n            ]}\r\n          >{title}</NavBar>\r\n      \r\n        )\r\n    }\r\n}\r\n\r\nHead.contextTypes = {\r\n    location:Proptypes.object\r\n}\r\n\r\nlet wrapProps={\r\n        onTouchStart: e => e.preventDefault(),\r\n}\r\n\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\nclass Pop extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            visible:false\r\n        }\r\n    }\r\n\r\n    handleVisibleChange=(visible)=>{\r\n       this.setState({\r\n        visible\r\n       })\r\n    }\r\n\r\n    onSelect = (opt) => {\r\n        this.setState({\r\n          visible: false,\r\n          selected: opt.props.value,\r\n        });\r\n        console.log(opt);\r\n        if(opt.props.value===\"login\"){\r\n            history.push(\"/login\")\r\n        }\r\n        if(opt.props.value===\"scan\"){\r\n            history.push(\"/scan\")\r\n        }\r\n        if(opt.props.value===\"photo\"){\r\n            this.showActionSheet();\r\n        }\r\n      };\r\n\r\n      showActionSheet = () => {\r\n        const BUTTONS = ['拍照', '相册', '直接拍照', '删除', '取消'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n          options: BUTTONS,\r\n          cancelButtonIndex: BUTTONS.length - 1,\r\n          destructiveButtonIndex: BUTTONS.length - 2,\r\n          // title: 'title',\r\n          message: 'wuhan 1909手机拍照',\r\n          maskClosable: true,\r\n          'data-seed': 'logId',\r\n          wrapProps,\r\n        },\r\n        (buttonIndex) => {\r\n         console.log(buttonIndex);\r\n         Toast.success(''+BUTTONS[buttonIndex]+ 'success !!!', 1);\r\n        });\r\n      }\r\n\r\n    render(){\r\n        const {\r\n            scan,\r\n            login,\r\n        }  = this.props;\r\n        return(\r\n              <Popover mask\r\n               className=\"header\"\r\n            overlayClassName=\"fortest\"\r\n            overlayStyle={{ color: 'currentColor' }}\r\n            visible={this.state.visible}\r\n            overlay={[\r\n              (!scan&&<Item key=\"4\" value=\"scan\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\">扫一扫</Item>),\r\n              (<Item key=\"5\" value=\"photo\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>拍照</Item>),\r\n              (!login&&<Item key=\"6\" value=\"login\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n                <span style={{ marginRight: 5 }}>登录</span>\r\n              </Item>),\r\n            ]}\r\n            align={{\r\n              overflow: { adjustY: 0, adjustX: 0 },\r\n              offset: [-10, 0],\r\n            }}\r\n            onVisibleChange={this.handleVisibleChange}\r\n            onSelect={this.onSelect}\r\n          >\r\n            <div style={{\r\n              height: '100%',\r\n              padding: '0 15px',\r\n              marginRight: '-15px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n            }}\r\n            >\r\n              <Icon type=\"ellipsis\" />\r\n            </div>\r\n          </Popover>\r\n          \r\n        )\r\n    }\r\n}\r\n\r\nexport default Head","module.exports = \"data:image/png;base64,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\"","\r\n\r\nimport React, {Component} from \"react\";\r\n\r\nimport \"./index.scss\"\r\n\r\n\r\n\r\nexport class LoginFoot extends Component{\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            src:require(\"@/assets/images/foot.png\")\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const{\r\n            src\r\n        }=this.state\r\n        return(\r\n            <div>\r\n                <p className=\"tips\">新会员限时惊喜,首次登录送百元礼包</p>\r\n                <div className=\"pic\">\r\n                    <p>第三方平台登录</p>\r\n                    <img className=\"img\" src={src} alt=\"\"/>\r\n                    <p className=\"xieyi\">首次登录表示您同意 <a>优购会员注册协议</a></p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { axios ,history} from \"~\";\r\nimport \"./index.scss\";\r\nimport  Head  from \"&/components/head\";\r\nimport { WhiteSpace, WingBlank, List, InputItem, Button } from \"antd-mobile\"\r\nimport {LoginFoot} from \"&/components/loginfoot\"\r\n\r\nexport const mobileReg = /^1(3|5|7|9)\\d{9}$/;\r\nexport const codeReg = /^\\d{4}$/;\r\n\r\n\r\n// var timer = null;\r\nexport default class Login extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            count: 60,\r\n            txt: \"发送验证码\",\r\n            mobileFlag: false,\r\n            loginFlag: false,\r\n            toggle: true,\r\n        }\r\n    }\r\n\r\n    checkMobile = (mobile) => {\r\n\r\n        if (this.state.toggle) {\r\n            this.setState({\r\n                mobileFlag: mobileReg.test(mobile),\r\n                loginFlag: (codeReg.test(this.code.state.value) && mobileReg.test(mobile))\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    // 校验验证码\r\n      // 校验验证码 \r\n      gotoLogin=()=>{\r\n        axios.post(\"/react/checkCode\",{\r\n            mobile:this.mobile.state.value,\r\n            code:this.code.state.value\r\n        }).then(res=>{\r\n            if(!!res.data.type){\r\n                sessionStorage.token = res.data.token; \r\n                sessionStorage.mobile = this.mobile.state.value\r\n                history.push(\"/main/mine\");\r\n            }else{\r\n                sessionStorage.token = \"\";\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n   // 发送验证码 \r\n   sendCode=()=>{\r\n\r\n    axios.post(\"/react/sendCode\",{\r\n        mobile:this.mobile.state.value\r\n    }).then(res=>{\r\n       \r\n    })\r\n    this.computedTime();\r\n    // ajax; \r\n   \r\n}\r\n\r\ncomputedTime=()=>{\r\n    this.setState({\r\n        count:--this.state.count,\r\n        txt:`倒计时 ${this.state.count} S`,\r\n        mobileFlag:false,  \r\n    });\r\n\r\n    var timer = setInterval(()=>{\r\n        if(this.state.count>0){\r\n            this.setState({\r\n                count:--this.state.count,\r\n                txt:`倒计时 ${this.state.count} S`,\r\n                mobileFlag:false, \r\n                toggle:false, \r\n            })\r\n           \r\n        }else{\r\n            clearInterval(timer);\r\n            this.setState({\r\n                count:60,\r\n                txt:`发送验证码`,\r\n                mobileFlag:true,  \r\n                toggle:true\r\n            })\r\n            \r\n        }\r\n    },1000)\r\n}\r\n\r\ncheckCode=(code)=>{\r\n    console.log(this.mobile);\r\n    this.setState({\r\n        loginFlag:(codeReg.test(code)&&mobileReg.test(this.mobile.state.value))\r\n    })\r\n}\r\n\r\n\r\n    render() {\r\n        const {\r\n            txt,\r\n            mobileFlag,\r\n            loginFlag\r\n        } = this.state\r\n        return (\r\n\r\n            <div className=\"login\">\r\n                <Head title=\"验证码登录\" show={true} login={true} location={this.props.location}></Head>\r\n                <WhiteSpace />\r\n                <WingBlank>\r\n                    <List>\r\n                        <WhiteSpace />\r\n                        <InputItem\r\n                            type=\"tel\"\r\n                            placeholder=\"请输入手机号\"\r\n                            clear\r\n                            ref={el => this.mobile = el}\r\n                            onChange={this.checkMobile}\r\n                        >手机号</InputItem>\r\n                        <WhiteSpace />\r\n                        <InputItem\r\n                            type=\"number\"\r\n                            placeholder=\"请输入验证码\"\r\n                            clear\r\n                            ref={el => this.code = el}\r\n                            onChange={this.checkCode}\r\n                        >验证码</InputItem>\r\n                        <Button onClick={this.sendCode} disabled={!mobileFlag} type=\"warning\" className=\"l-btn\" size=\"large\" inline >{txt}</Button>\r\n                        <WhiteSpace />\r\n                    </List>\r\n                    <WhiteSpace />\r\n                    <Button type=\"primary\" onClick={this.gotoLogin} disabled={!loginFlag} >登录</Button>\r\n                </WingBlank>\r\n                <LoginFoot></LoginFoot>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n"],"sourceRoot":""}