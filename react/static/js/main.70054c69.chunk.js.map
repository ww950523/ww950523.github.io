{"version":3,"sources":["utils/axios.js","utils/history.js","utils/index.js","scripts/mobx/shopcar.js","utils/lazyload.js","scripts/components/foot/index.js","scripts/components/afoot/index.js","scripts/views/main/index.js","scripts/views/index.js","scripts/index.js","scripts/reducers/data.js","scripts/reducers/index.js","scripts/store.js","App.js","serviceWorker.js","index.js","scripts/actions/index.js"],"names":["baseURL","token","axios","defaults","headers","common","post","interceptors","request","use","config","msg","loading","console","log","sessionStorage","error","offline","Promise","reject","response","setTimeout","data","hide","success","code","history","push","fail","createHashHistory","require","ShopCar","num","this","carList","forEach","item","count","checked","good","newprice","flag","newval","map","observable","action","then","res","result","goodId","computed","filter","loadingComponent","loader","Loabable","foots","txt","path","name","icon","Component","Afoot","connect","state","selectedTab","getIn","observer","props","location","tab","pathname","split","dispatch","changeTab","localStorage","newTab","className","unselectedTintColor","tintColor","barTintColor","hidden","foot","i","Item","key","title","style","width","height","selectedIcon","selected","badge","carNum","onPress","contextTypes","Proptypes","object","Main","Switch","Route","exact","render","Redirect","to","component","LazyLoad","Guide","Login","Layout","oldTab","childContextTypes","MainRouter","HashRouter","basename","defaultState","immutable","fromJS","word","banner","ygList","sort","kind","ppList","ldxList","mobile","reducers","combineReducers","type","update","x","set","store","createStore","applyMiddleware","thunk","promise","App","Boolean","window","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","changeWord","a","url","cb","get","getBanner","getYg","getSort","getKind","getppList","getLdx","params","getUserMobile"],"mappings":"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","file":"static/js/main.70054c69.chunk.js","sourcesContent":["\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Toast } from \"antd-mobile\";\r\n\r\nimport {history} from \"~\"\r\n\r\n// export const baseURL=\"http://localhost:1909/\"\r\n// export const baseURL=\"http://116.62.243.102:1909/\"\r\nexport const baseURL=\"https://116.62.243.102:1909/\"\r\n\r\n\r\nvar token = \"\";\r\naxios.defaults.baseURL =baseURL;   //基路径\r\naxios.defaults.headers.common['token'] = token;\r\naxios.defaults.headers.post['token'] = 'application/x-www-from-unlencoded';\r\n\r\n\r\nexport function loadingToast(msg) {\r\n    Toast.loading(msg, 1, () => {\r\n        console.log('Load complete !!!');\r\n    });\r\n}\r\n\r\nexport function successToast(msg) {\r\n    Toast.hide();\r\n    Toast.success(msg, 1);\r\n}\r\n\r\nexport function failToast(msg) {\r\n    Toast.hide();\r\n    Toast.fail(msg, 1);\r\n}\r\n\r\nexport function offline(msg) {\r\n    Toast.offline(msg, 1);\r\n}\r\n\r\n\r\n// 拦截器\r\n\r\n// 请求拦截器  请求之前业务逻辑  配置  data/headers\r\naxios.interceptors.request.use(function (config) {\r\n    // console.log(config);\r\n    loadingToast(\"努力加载...\");\r\n    token = sessionStorage.token ? sessionStorage.token : \"\";\r\n    config.headers['token'] = token;\r\n    // 请求发送之前\r\n    return config;\r\n\r\n}, function (error) {\r\n    // 请求发送失败\r\n    offline(\"网络错误！\")\r\n    return Promise.reject(error);\r\n\r\n});\r\n\r\n\r\n\r\n// 响应拦截器  根据返回的状态码  做对应的业务逻辑\r\naxios.interceptors.response.use(function (response) {\r\n    // 获得相应数据之前\r\n    console.log(response);\r\n\r\n\r\n    setTimeout(() => {\r\n        successToast(response.data.msg)\r\n        if(response.data.code===\"400\"){\r\n            history.push(\"/login\");\r\n          }\r\n    }, 1000);\r\n\r\n\r\n\r\n\r\n\r\n    return response;\r\n\r\n}, function (error) {\r\n    // 响应失败\r\n    failToast(\"响应失败！\")\r\n    return Promise.reject(error)\r\n});\r\n\r\n\r\n\r\n\r\n\r\nexport { axios };","\r\nimport {createHashHistory} from \"history\";\r\n\r\nexport const  history = new createHashHistory();","\r\n\r\n// 一个模块暴露多个接口\r\n\r\n\r\nexport {axios,baseURL} from \"./axios\"\r\n\r\nconst url = require(\"url\"); // Node 自带\r\n\r\nexport function getQuery(search){\r\n    return url.parse(search,true).query;\r\n}\r\n\r\n\r\n\r\nexport {history} from \"./history\";\r\n","\r\nimport {observable,action,computed} from \"mobx\"\r\nimport {axios} from \"~\";\r\nclass ShopCar{\r\n    @observable carList = [];   // 购物车商品数据\r\n    // @observable total = 0;      // 购物车 商品总价格\r\n    // @observable carNum = 0;     // 购物车 商品数量 \r\n    // @observable checkNum = 0;     // 购物车 选中商品数量\r\n    // @observable quan = false;     // 判断是否全部选中 \r\n\r\n\r\n    @action getCarList =()=>{\r\n        axios.post(\"/react/getCarList\").then(res=>{\r\n            this.carList = res.data.result;\r\n        })\r\n    }\r\n\r\n    @action changeCheckOne=(checked,goodId)=>{\r\n        // 修改单条选中 \r\n        axios.post(\"/react/changechecked\",{\r\n            checked,goodId\r\n        }).then(res=>{\r\n            this.carList = this.carList.map((item)=>{\r\n                if(item.goodId==goodId){\r\n                    item.checked = checked;\r\n                }\r\n                return item;\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    @computed get carNum(){\r\n        var num = 0;\r\n        this.carList.forEach(item=>{\r\n            num+=item.count;\r\n        });\r\n        return num;\r\n    }\r\n\r\n    @computed get checkNum(){\r\n        var num = 0;\r\n        this.carList.forEach(item=>{\r\n            if(item.checked){\r\n                num+=item.count;\r\n            }\r\n        });\r\n        return num;\r\n    }\r\n\r\n    @computed get total(){\r\n        var num = 0;\r\n        this.carList.forEach(item=>{\r\n            if(item.checked){\r\n                num+=item.count * item.good.newprice ;\r\n            }\r\n        });\r\n        return num;\r\n    }\r\n\r\n    @computed get quan(){\r\n        var flag = true;\r\n        this.carList.forEach(item=>{\r\n            if(!item.checked){\r\n                flag = false;\r\n            }\r\n        })\r\n        return flag;\r\n    }\r\n\r\n    set quan(newval){  // 监听 quan\r\n        this.carList = this.carList.map((item)=>{\r\n            item.checked = newval;\r\n            return item;\r\n        })\r\n    }\r\n\r\n    @action changeQuan = checked =>{\r\n        axios.post(\"/react/changechecked\",{\r\n            checked,\r\n            goodId:\"-1\"\r\n        }).then(res=>{\r\n            this.carList = this.carList.map((item)=>{\r\n                item.checked = checked;\r\n                return item;\r\n            })\r\n        })\r\n    }\r\n\r\n    @action changeOneCount = (goodId,flag)=>{\r\n        axios.post(\"/react/changecount\",{\r\n            flag,\r\n            goodId,\r\n            count:\"-1\"\r\n        }).then(res=>{\r\n            this.carList = this.carList.map((item)=>{\r\n                if(item.goodId == goodId ){\r\n                    item.count += flag ? 1: -1;\r\n                }\r\n                return item;\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    @action changeCountByGoodId = (goodId,count)=>{\r\n        axios.post(\"/react/changecount\",{\r\n            goodId,\r\n            count\r\n        }).then(res=>{\r\n            this.carList = this.carList.map((item)=>{\r\n                if(item.goodId == goodId ){\r\n                    item.count = count * 1;\r\n                }\r\n                return item;\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n    @action delGoodBySelect = () => {\r\n        axios.post(\"/react/delSelect\").then(res=>{\r\n            this.carList = this.carList.filter(item=>!item.checked);\r\n        })\r\n        \r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    async fetchCarList(){\r\n        let res = await  axios.post(\"/react/getCarList\");\r\n    }\r\n\r\n}\r\n\r\nexport default new ShopCar();","\r\n\r\n// 路由懒加载\r\nimport React from \"react\";\r\nimport Loabable from \"react-loadable\";\r\n\r\n// 通用的过场组件  组件加载之前的动画\r\n\r\nconst  loadingComponent=()=>{\r\n    return(\r\n\r\n        <div>loading</div>\r\n    )\r\n}\r\n\r\n\r\n// 过场组件默认采用通用的，若传入了loading  则采用传入的过场组件\r\n\r\nexport default (loader,loading=loadingComponent)=>{\r\n    return Loabable({\r\n        loading,\r\n        loader\r\n    });\r\n}","\r\nimport \"./index.scss\";\r\nimport React, { Component } from \"react\";\r\n\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Badge } from \"antd-mobile\"\r\n\r\nexport const foots = [\r\n    { txt: \"首页\", path: \"/main/home\", name: \"home\", icon: \"icon-home\" },\r\n    { txt: \"分类\", path: \"/main/classify\", name: \"classify\", icon: \"icon-goodsfill\" },\r\n    { txt: \"购物车\", path: \"/main/cart\", name: \"cart\", icon: \"icon-shop_car\" },\r\n    { txt: \"我的\", path: \"/main/mine\", name: \"mine\", icon: \"icon-minefill\" }\r\n]\r\n\r\n\r\nexport class Foot extends Component {\r\n    state = {\r\n        foots\r\n    }\r\n    render() {\r\n        return (\r\n            <footer>\r\n                {\r\n                    this.state.foots.map((foot, i) => {\r\n                        return (\r\n                            <div key={i}>\r\n                                <NavLink\r\n                                    to={foot.path}\r\n                                    activeClassName=\"nav-active\"\r\n                                >\r\n                                    <i className={\"iconfont \" + foot.icon}></i>\r\n                                    <span>{foot.txt}</span>\r\n                                    {i===2&&<Badge text=\"5\" className\r\n                                        =\"hot\" hot style={{ marginLeft: 5 }} />}\r\n                                </NavLink>\r\n\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </footer>\r\n        )\r\n    }\r\n}","\r\n\r\nimport React, { Component } from \"react\";\r\nimport { TabBar } from \"antd-mobile\";\r\nimport { foots } from \"../foot\"\r\n\r\nimport \"./index.scss\";\r\nimport Proptypes from \"prop-types\"\r\nimport { connect } from \"react-redux\"\r\nimport { changeTab } from \"../../actions\";\r\nimport ShopCar from \"&/mobx/shopcar\"\r\nimport {observer} from \"mobx-react\"\r\n\r\n@connect(\r\n    state => {\r\n        return {\r\n            selectedTab: state.getIn(['data', 'tab'])\r\n        }\r\n    }\r\n)\r\n@observer\r\nclass Afoot extends Component {\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        console.log(this.props.location);\r\n        const tab = this.props.location.pathname.split(\"/main/\")[1];\r\n        // 刷新高亮\r\n        this.props.dispatch(changeTab(tab));\r\n\r\n        localStorage.newTab=tab\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"myfoot\">\r\n\r\n                <TabBar\r\n\r\n                    unselectedTintColor=\"#949494\"\r\n                    tintColor=\"#33A3F4\"\r\n                    barTintColor=\"white\"\r\n                    hidden={this.props.hidden}\r\n                >\r\n\r\n                    {\r\n                        foots.map((foot, i) => {\r\n                            return (\r\n                                <TabBar.Item\r\n                                    key={i}\r\n                                    title={foot.txt}\r\n                                    icon={<i style={{\r\n                                        width: '22px',\r\n                                        height: '22px',\r\n                                    }}\r\n                                        className={\"iconfont \" + foot.icon}\r\n                                    />\r\n                                    }\r\n                                    selectedIcon={<i style={{\r\n                                        width: '22px',\r\n                                        height: '22px',\r\n                                    }}\r\n                                        className={\"iconfont \" + foot.icon}\r\n                                    />\r\n                                    }\r\n                                    selected={this.props.selectedTab === foot.name}\r\n                                    badge={i === 2 && ShopCar.carNum} //i控制角标位置\r\n                                    onPress={() => {\r\n                                        // 控制高亮   点击高亮\r\n                                        const { history } = this.props;\r\n                                        this.props.dispatch(changeTab(foot.name))\r\n                                        history.push(foot.name)\r\n                                    }}\r\n                                >\r\n\r\n                                </TabBar.Item>\r\n                            )\r\n                        })\r\n                    }\r\n                </TabBar>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nAfoot.contextTypes = {\r\n    history: Proptypes.object,\r\n    location: Proptypes.object\r\n}\r\n\r\n\r\nexport default Afoot;","import React, { Component } from \"react\";\r\n\r\nimport \"./index.scss\";\r\n\r\nimport {Switch ,Route,Redirect} from \"react-router-dom\"\r\nimport LazyLoad from \"~/lazyload\"\r\n// import {Home} from \"../home\";\r\n// import {Classify} from \"../classify\";\r\n// import {Cart} from \"../cart\";\r\n// import {Mine} from \"../mine\";\r\n\r\n\r\n// import {Foot} from \"&/components/foot\"\r\nimport Afoot from \"&/components/afoot\"\r\nexport class Main extends Component {\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"main\" style={{width:'100vw',height:\"100vh\"}}>\r\n                <Switch>\r\n                <Route path=\"/main/\" exact render={()=>(<Redirect to=\"/main/home\"/>)}/>\r\n                <Route path=\"/main/home\" component={LazyLoad(()=>import(\"../home\"))} />\r\n                <Route path=\"/main/classify\"  component={LazyLoad(()=>import(\"../classify\"))} />\r\n                <Route path=\"/main/cart\"  component={LazyLoad(()=>import(\"../cart\"))} />\r\n                <Route path=\"/main/mine\"  component={LazyLoad(()=>import(\"../mine\"))} />\r\n                <Route render={()=>(<Redirect to=\"/main/home\"/>)}/>\r\n                </Switch>\r\n                {/* <Foot></Foot> */}\r\n                <Afoot history={this.props.history} location={this.props.location}></Afoot>\r\n               \r\n            </div>\r\n        )\r\n    }\r\n}","\r\n\r\nimport React, { Component } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n// import { Home } from \"./home\";\r\n\r\nimport LazyLoad from \"~/lazyload\";\r\nimport { Main } from \"./main\";\r\nimport Proptypes from \"prop-types\"\r\n// import { SearchCpt } from \"./search\";\r\n// import { Scan } from \"./scan\";\r\n\r\nconst Guide = LazyLoad(() => import(\"./guide\"));\r\nconst Login = LazyLoad(() => import(\"./login\"))\r\n\r\n\r\n\r\nexport class Layout extends Component {\r\n    getChildContext() {\r\n        return {\r\n            history: this.props.history,\r\n            location: this.props.location\r\n        }\r\n    }\r\n\r\n\r\n    componentDidUpdate() {\r\n        const tab = this.props.location.pathname.split(\"/main/\")[1];\r\n        // console.log(tab);\r\n        localStorage.oldTab=localStorage.newTab;\r\n        localStorage.newTab=tab\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/\" exact render={() => (<Redirect to=\"/guide\" />)} />\r\n                <Route path=\"/guide\" component={Guide} />\r\n                <Route path=\"/main\" component={Main} />\r\n                <Route path=\"/login\" component={Login} />\r\n                <Route path=\"/search\" component={LazyLoad(() => import(\"./search\"))} />\r\n                <Route path=\"/scan\" component={LazyLoad(() => import(\"./scan\"))} />\r\n                <Route path=\"/setting\" component={LazyLoad(() => import(\"./settings\"))} />\r\n                <Route path=\"/detail/:_id?\" component={LazyLoad(() => import(\"./detail\"))} />\r\n                <Route render={() => (<Redirect to=\"/main/home\" />)} />\r\n\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nLayout.childContextTypes = {\r\n    history: Proptypes.object,\r\n    location: Proptypes.object\r\n}","import {HashRouter,Route} from \"react-router-dom\"\r\n\r\n\r\nimport React, {Component} from \"react\";\r\n\r\nimport {Layout} from \"./views\"\r\n\r\nexport class MainRouter extends Component{\r\n    render(){\r\n        return(\r\n            <HashRouter\r\n            basename=\"\"\r\n            \r\n            >\r\n                <Route component={Layout}/>\r\n                {/* <Layout></Layout> */}\r\n            </HashRouter>\r\n        )\r\n    }\r\n}\r\n","import immutable from \"immutable\";\r\n\r\n\r\nconst defaultState = immutable.fromJS({\r\n    num: 1000,\r\n    word: \"Are you ok\",\r\n    banner:[],\r\n    tab:'home',\r\n    ygList:[],\r\n    sort:[],\r\n    kind:[],\r\n    ppList:[],\r\n    ldxList:[],\r\n    mobile:null,\r\n})\r\n\r\nexport const data = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case \"changeNum\":\r\n            return state.update(\"num\",x=>(x+action.num))\r\n            break;\r\n            \r\n        case \"changeWord\":\r\n            return state.set(\"word\",action.word)\r\n            break;\r\n\r\n        case \"getBanner\":\r\n            return state.set(\"banner\",action.banner)\r\n            break;\r\n\r\n        case \"getYg\":\r\n            return state.set(\"ygList\",action.ygList)\r\n            break;\r\n\r\n        case \"getSort\":\r\n            return state.set(\"sort\",action.sort)\r\n            break;\r\n\r\n        case \"getKind\":\r\n            return state.set(\"kind\",action.kind)\r\n            break;\r\n\r\n        case \"getppList\":\r\n            return state.set(\"ppList\",action.ppList)\r\n            break;\r\n\r\n        case \"getLdx\":\r\n            return state.set(\"ldxList\",action.ldxList)\r\n            break;\r\n\r\n            case \"getUserMobile\":\r\n                return state.set(\"mobile\",action.mobile);\r\n                break;\r\n\r\n            \r\n        case \"changeTab\":\r\n                return state.set(\"tab\",action.tab)\r\n                break;\r\n\r\n        default:\r\n            return state;\r\n            break;\r\n    }\r\n}","\r\nimport {combineReducers} from \"redux-immutable\"\r\nimport { data } from \"./data\"\r\n\r\nexport const reducers=combineReducers({\r\n    data:data\r\n})","\r\n\r\nimport {createStore,applyMiddleware} from \"redux\";\r\nimport { reducers } from \"./reducers\";\r\n\r\nimport thunk from \"redux-thunk\";\r\nimport promise from \"redux-promise\"\r\nconst store =createStore(reducers,applyMiddleware(thunk,promise));\r\n\r\nexport  default store;","import React from 'react';\nimport './App.css';\n\nimport {MainRouter} from \"&\"\nimport store from \"./scripts/store\";\nimport {Provider} from \"react-redux\"\n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Provider store={store}>\n      <MainRouter></MainRouter>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// 全局的公共样式\nimport \"./styles/index.scss\";\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n\n// import \"&/redux\";\n// import \"&/reactRedux\";\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {axios} from \"~\"\r\n\r\nexport function changeNum(num){\r\n    return {\r\n        type:\"changeNum\",\r\n        num\r\n    }\r\n}\r\n\r\nexport async function changeWord({url,cb}){\r\n    let res=await axios.get(url);\r\n    cb();\r\n    return{\r\n        type:\"changeWord\",\r\n        word:res.data.msg\r\n    }\r\n}\r\n\r\nexport async function getBanner({url}){\r\n    let res=await axios.get(url);\r\n    return{\r\n        type:\"getBanner\",\r\n        banner:res.data.result\r\n    }\r\n}\r\n\r\nexport async function getYg({url}){\r\n    let res=await axios.get(url);\r\n    return{\r\n        type:\"getYg\",\r\n        ygList:res.data.result\r\n    }\r\n}\r\n\r\nexport async function getSort({url}){\r\n    let res=await axios.get(url);\r\n    return{\r\n        type:\"getSort\",\r\n        sort:res.data.result\r\n    }\r\n}\r\n\r\nexport async function getKind({url}){\r\n    let res=await axios.get(url);\r\n    return{\r\n        type:\"getKind\",\r\n        kind:res.data.result\r\n    }\r\n}\r\n\r\nexport async function getppList({url}){\r\n    let res=await axios.get(url);\r\n    return{\r\n        type:\"getppList\",\r\n        ppList:res.data.result\r\n    }\r\n}\r\n\r\nexport async function getLdx({url,params}){\r\n    let res=await axios.get(url,{params});\r\n    return{\r\n        type:\"getLdx\",\r\n        ldxList:res.data.result\r\n    }\r\n}\r\n\r\nexport  async function getUserMobile({url}){\r\n    let res = await axios.post(url);\r\n    return {\r\n        type:\"getUserMobile\",\r\n        mobile:res.data.result\r\n    }\r\n}\r\n\r\n// export function getMyPic(payload){\r\n//     return {\r\n//         type:\"getMyPic\",\r\n//         payload\r\n//     }\r\n// }\r\n\r\nexport function changeTab(tab){\r\n    return {\r\n        type:\"changeTab\",\r\n        tab\r\n    }\r\n}"],"sourceRoot":""}