{"version":3,"sources":["scripts/components/head/index.js","scripts/views/settings/index.js"],"names":["Item","Head","connect","state","goback","history","go","props","dispatch","changeTab","localStorage","oldTab","goSearch","push","isSearch","console","log","this","location","pathname","split","setState","title","show","scan","login","className","mode","icon","type","onLeftClick","rightContent","key","onClick","style","marginRight","Pop","Component","contextTypes","Proptypes","object","wrapProps","onTouchStart","e","preventDefault","myImg","src","alt","handleVisibleChange","visible","onSelect","opt","selected","value","showActionSheet","BUTTONS","showActionSheetWithOptions","options","cancelButtonIndex","length","destructiveButtonIndex","message","maskClosable","buttonIndex","success","mask","overlayClassName","overlayStyle","color","overlay","data-seed","whiteSpace","align","overflow","adjustY","adjustX","offset","onVisibleChange","height","padding","display","alignItems","nowTimeStamp","Date","now","utcNow","getTime","getTimezoneOffset","sexy","label","aera","Setting","date","time","utcDate","onChangesexy","sexyValue","onChangeaera","earaValue","extra","sessionStorage","mobile","data","cols","onChange","arrow","aeraValue","marginTop","width","background"],"mappings":"kWASMA,EAAK,IAAQA,KAUZC,EARNC,aACC,SAAAC,GAAK,MACD,K,eAQF,aAAc,IAAD,8BACT,+CAKJC,OAAO,WACHC,IAAQC,IAAI,GACZ,EAAKC,MAAMC,SAASC,YAAUC,aAAaC,UARlC,EAUbC,SAAS,WACLP,IAAQQ,KAAK,YATb,EAAKV,MAAM,CACPW,UAAS,GAHJ,E,iFAeTC,QAAQC,IAAIC,KAAKV,MAAMW,UACvB,IAAIC,EAASF,KAAKV,MAAMW,SAASC,SAASC,MAAM,KAAK,GACvC,WAAXD,GAAgC,UAAXA,GAA+B,SAAXA,GAA8B,WAAXA,GAC3DF,KAAKI,SAAS,CACVP,UAAS,M,+BAKZ,IAAD,SAMAG,KAAKV,MAJLe,EAFA,EAEAA,MACAC,EAHA,EAGAA,KACAC,EAJA,EAIAA,KACAC,EALA,EAKAA,MAEJ,OACI,uBACAC,UAAU,SACVC,KAAK,QACLC,KAAML,EAAK,uBAAMM,KAAK,SAAU,GAChCC,YAAa,kBAAKP,EAAK,EAAKnB,SAAUW,QAAQC,IAAI,KAClDe,aAAc,EACXd,KAAKd,MAAMW,UAAU,uBAAMkB,IAAI,IAAIC,QAAShB,KAAKL,SAAUiB,KAAK,SAASK,MAAO,CAAEC,YAAa,UAChG,kBAACC,EAAD,CAAKJ,IAAI,IAAIR,KAAMA,EAAMC,MAAOA,MAElCH,O,GA3CQe,e,EAiDpBpC,EAAKqC,aAAe,CAChBpB,SAASqB,IAAUC,QAGvB,IAAIC,EAAU,CACNC,aAAc,SAAAC,GAAC,OAAIA,EAAEC,mBAGvBC,EAAQ,SAAAC,GAAG,OAAI,yBAAKA,IAAG,qDAAgDA,EAAhD,QAA2DpB,UAAU,qBAAqBqB,IAAI,MACrHX,E,YACF,aAAc,IAAD,8BACT,+CAMJY,oBAAoB,SAACC,GAClB,EAAK5B,SAAS,CACb4B,aATS,EAabC,SAAW,SAACC,GACR,EAAK9B,SAAS,CACZ4B,SAAS,EACTG,SAAUD,EAAI5C,MAAM8C,QAEtBtC,QAAQC,IAAImC,GACS,UAAlBA,EAAI5C,MAAM8C,OACThD,IAAQQ,KAAK,UAEI,SAAlBsC,EAAI5C,MAAM8C,OACThD,IAAQQ,KAAK,SAEI,UAAlBsC,EAAI5C,MAAM8C,OACT,EAAKC,mBA1BA,EA8BXA,gBAAkB,WAChB,IAAMC,EAAU,CAAC,eAAM,eAAM,2BAAQ,eAAM,gBAC3C,IAAYC,2BAA2B,CACrCC,QAASF,EACTG,kBAAmBH,EAAQI,OAAS,EACpCC,uBAAwBL,EAAQI,OAAS,EAEzCE,QAAS,qCACTC,cAAc,EACd,YAAa,QACbrB,cAEF,SAACsB,GACAhD,QAAQC,IAAI+C,GACZ,IAAMC,QAAWT,EAAQQ,GAAc,cAAe,OA1CvD,EAAK5D,MAAM,CACP8C,SAAQ,GAHH,E,sEAgDJ,IAAD,EAIChC,KAAKV,MAFNiB,EAFA,EAEAA,KACAC,EAHA,EAGAA,MAEJ,OACM,uBAASwC,MAAI,EACZvC,UAAU,SACbwC,iBAAiB,UACjBC,aAAc,CAAEC,MAAO,gBACvBnB,QAAShC,KAAKd,MAAM8C,QACpBoB,QAAS,EACL7C,GAAM,kBAACxB,EAAD,CAAMgC,IAAI,IAAIqB,MAAM,OAAOzB,KAAMiB,EAAM,wBAAyByB,YAAU,SAA1E,sBACP,kBAACtE,EAAD,CAAMgC,IAAI,IAAIqB,MAAM,QAAQzB,KAAMiB,EAAM,wBAAyBX,MAAO,CAAEqC,WAAY,WAAtF,iBACC9C,GAAO,kBAACzB,EAAD,CAAMgC,IAAI,IAAIqB,MAAM,QAAQzB,KAAMiB,EAAM,yBAC/C,0BAAMX,MAAO,CAAEC,YAAa,IAA5B,kBAGJqC,MAAO,CACLC,SAAU,CAAEC,QAAS,EAAGC,QAAS,GACjCC,OAAQ,EAAE,GAAI,IAEhBC,gBAAiB5D,KAAK+B,oBACtBE,SAAUjC,KAAKiC,UAEf,yBAAKhB,MAAO,CACV4C,OAAQ,OACRC,QAAS,SACT5C,YAAa,QACb6C,QAAS,OACTC,WAAY,WAGZ,uBAAMpD,KAAK,mB,GAlFPQ,aA0FHpC,O,yRChKTiF,EAAeC,KAAKC,MACpBA,EAAM,IAAID,KAAKD,GACfG,EAAS,IAAIF,KAAKC,EAAIE,UAAuC,IAA1BF,EAAIG,qBACvCvF,EAAO,IAAKA,KAEZwF,EAAO,CACT,CACIC,MAAQ,6BAAK,0CAEjB,CACIA,MAAQ,6BAAK,2CAIfC,EAAO,CACT,CACID,MAAQ,6BAAK,gDAEjB,CACIA,MAAQ,6BAAK,iDAKAE,E,2MACjBxF,MAAQ,CACJyF,KAAMR,EACNS,KAAMT,EACNU,QAAST,EACTG,OACAE,Q,EAGJK,aAAe,SAACP,GACZ,EAAKnE,SAAS,CACV2E,UAAWR,K,EAInBS,aAAe,SAACP,GACZ,EAAKrE,SAAS,CACV6E,UAAWR,K,wEAGT,IAAD,OACL,OACI,yBAAKhE,UAAU,WACX,kBAAC,IAAD,CAAMJ,MAAM,eAAKJ,SAAUD,KAAKV,MAAMW,SAAUK,MAAM,IACtD,uBAAMG,UAAU,WACZ,kBAAC1B,EAAD,CAAMmG,MAAOC,eAAeC,QAA5B,uBAGJ,uBACIC,KAAMd,EACNnC,MAAOpC,KAAKd,MAAM6F,UAClBO,KAAM,EACNC,SAAUvF,KAAK8E,cAEf,sBAAM/F,KAAN,CAAWyG,MAAM,cAAjB,iBAGJ,uBACI9E,KAAK,OACLL,MAAM,cACN6E,MAAM,WACN9C,MAAOpC,KAAKd,MAAMyF,KAClBY,SAAU,SAAAZ,GAAI,OAAI,EAAKvE,SAAS,CAAEuE,WAElC,sBAAM5F,KAAN,CAAWyG,MAAM,cAAjB,iBAGJ,uBACIH,KAAMZ,EACNrC,MAAOpC,KAAKd,MAAMuG,UAClBH,KAAM,EACNC,SAAUvF,KAAKgF,cAEf,sBAAMjG,KAAN,CAAWyG,MAAM,cAAjB,iBAGJ,uBAAMvE,MAAO,CAACyE,UAAU,IAAKjF,UAAU,WACnC,kBAAC1B,EAAD,CAAMyG,MAAM,cAAZ,yCAEJ,uBAAMvE,MAAO,CAACyE,UAAU,IAAKjF,UAAU,WACnC,kBAAC1B,EAAD,CAAMyG,MAAM,cAAZ,6BAEJ,yBAAKvE,MAAO,CAAC4C,OAAO,IAAI8B,MAAM,OAAOC,WAAW,gB,GA9D3BxE","file":"static/js/18.57d7e29e.chunk.js","sourcesContent":["\r\nimport React, {Component} from \"react\";\r\nimport \"./index.scss\";\r\n\r\nimport {NavBar,Icon,Popover,ActionSheet,Toast} from \"antd-mobile\"\r\nimport { connect } from \"react-redux\"\r\nimport Proptypes from \"prop-types\"\r\nimport {history} from \"~\";\r\nimport { changeTab } from \"../../actions\";\r\nconst Item=Popover.Item;  //静态属性\r\n\r\n@connect(\r\n  state => (\r\n      {\r\n        \r\n      }\r\n  )\r\n)\r\n\r\n class Head extends Component{\r\n\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            isSearch:false\r\n        }\r\n    }\r\n    goback=()=>{\r\n        history.go(-1);\r\n        this.props.dispatch(changeTab(localStorage.oldTab))\r\n    }\r\n    goSearch=()=>{\r\n        history.push(\"/search\")\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log(this.props.location);\r\n        var pathname=this.props.location.pathname.split(\"/\")[1];\r\n        if(pathname===\"search\"||pathname===\"login\"||pathname===\"scan\"||pathname===\"detail\"){\r\n            this.setState({\r\n                isSearch:true\r\n            })\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {\r\n            title,\r\n            show,\r\n            scan,\r\n            login\r\n        } = this.props;\r\n        return (\r\n            <NavBar\r\n            className=\"header\"\r\n            mode=\"light\"\r\n            icon={show?<Icon type=\"left\" />:\"\"}\r\n            onLeftClick={() =>show?this.goback(): console.log('')}\r\n            rightContent={[\r\n              !this.state.isSearch&&<Icon key=\"0\" onClick={this.goSearch} type=\"search\" style={{ marginRight: '16px' }} />,\r\n              <Pop key=\"1\" scan={scan} login={login}/>,\r\n            ]}\r\n          >{title}</NavBar>\r\n      \r\n        )\r\n    }\r\n}\r\n\r\nHead.contextTypes = {\r\n    location:Proptypes.object\r\n}\r\n\r\nlet wrapProps={\r\n        onTouchStart: e => e.preventDefault(),\r\n}\r\n\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\nclass Pop extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            visible:false\r\n        }\r\n    }\r\n\r\n    handleVisibleChange=(visible)=>{\r\n       this.setState({\r\n        visible\r\n       })\r\n    }\r\n\r\n    onSelect = (opt) => {\r\n        this.setState({\r\n          visible: false,\r\n          selected: opt.props.value,\r\n        });\r\n        console.log(opt);\r\n        if(opt.props.value===\"login\"){\r\n            history.push(\"/login\")\r\n        }\r\n        if(opt.props.value===\"scan\"){\r\n            history.push(\"/scan\")\r\n        }\r\n        if(opt.props.value===\"photo\"){\r\n            this.showActionSheet();\r\n        }\r\n      };\r\n\r\n      showActionSheet = () => {\r\n        const BUTTONS = ['拍照', '相册', '直接拍照', '删除', '取消'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n          options: BUTTONS,\r\n          cancelButtonIndex: BUTTONS.length - 1,\r\n          destructiveButtonIndex: BUTTONS.length - 2,\r\n          // title: 'title',\r\n          message: 'wuhan 1909手机拍照',\r\n          maskClosable: true,\r\n          'data-seed': 'logId',\r\n          wrapProps,\r\n        },\r\n        (buttonIndex) => {\r\n         console.log(buttonIndex);\r\n         Toast.success(''+BUTTONS[buttonIndex]+ 'success !!!', 1);\r\n        });\r\n      }\r\n\r\n    render(){\r\n        const {\r\n            scan,\r\n            login,\r\n        }  = this.props;\r\n        return(\r\n              <Popover mask\r\n               className=\"header\"\r\n            overlayClassName=\"fortest\"\r\n            overlayStyle={{ color: 'currentColor' }}\r\n            visible={this.state.visible}\r\n            overlay={[\r\n              (!scan&&<Item key=\"4\" value=\"scan\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\">扫一扫</Item>),\r\n              (<Item key=\"5\" value=\"photo\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>拍照</Item>),\r\n              (!login&&<Item key=\"6\" value=\"login\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n                <span style={{ marginRight: 5 }}>登录</span>\r\n              </Item>),\r\n            ]}\r\n            align={{\r\n              overflow: { adjustY: 0, adjustX: 0 },\r\n              offset: [-10, 0],\r\n            }}\r\n            onVisibleChange={this.handleVisibleChange}\r\n            onSelect={this.onSelect}\r\n          >\r\n            <div style={{\r\n              height: '100%',\r\n              padding: '0 15px',\r\n              marginRight: '-15px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n            }}\r\n            >\r\n              <Icon type=\"ellipsis\" />\r\n            </div>\r\n          </Popover>\r\n          \r\n        )\r\n    }\r\n}\r\n\r\nexport default Head","import React, { Component } from \"react\";\r\n\r\nimport \"./index.scss\";\r\n\r\nimport Head from \"&/components/head\";\r\nimport { DatePicker, List, Picker } from \"antd-mobile\"\r\n\r\nconst nowTimeStamp = Date.now();\r\nconst now = new Date(nowTimeStamp);\r\nconst utcNow = new Date(now.getTime() + (now.getTimezoneOffset() * 60000));\r\nconst Item = List.Item;\r\n\r\nconst sexy = [\r\n    {\r\n        label: (<div><span>男</span></div>),\r\n    },\r\n    {\r\n        label: (<div><span>女</span></div>),\r\n    },\r\n];\r\n\r\nconst aera = [\r\n    {\r\n        label: (<div><span>北京</span></div>),\r\n    },\r\n    {\r\n        label: (<div><span>上海</span></div>),\r\n    },\r\n];\r\n\r\n\r\nexport default class Setting extends Component {\r\n    state = {\r\n        date: now,\r\n        time: now,\r\n        utcDate: utcNow,\r\n        sexy,\r\n        aera\r\n    }\r\n\r\n    onChangesexy = (sexy) => {\r\n        this.setState({\r\n            sexyValue: sexy,\r\n        });\r\n    };\r\n\r\n    onChangeaera = (aera) => {\r\n        this.setState({\r\n            earaValue: aera,\r\n        });\r\n    };\r\n    render() {\r\n        return (\r\n            <div className=\"setting\">\r\n                <Head title=\"设置\" location={this.props.location} show={true}></Head>\r\n                <List className=\"my-list\">\r\n                    <Item extra={sessionStorage.mobile}>用户名</Item>\r\n                </List>\r\n\r\n                <Picker\r\n                    data={sexy}\r\n                    value={this.state.sexyValue}\r\n                    cols={1}\r\n                    onChange={this.onChangesexy}\r\n                >\r\n                    <List.Item arrow=\"horizontal\">性别</List.Item>\r\n                </Picker>\r\n\r\n                <DatePicker\r\n                    mode=\"date\"\r\n                    title=\"Select Date\"\r\n                    extra=\"Optional\"\r\n                    value={this.state.date}\r\n                    onChange={date => this.setState({ date })}\r\n                >\r\n                    <List.Item arrow=\"horizontal\">生日</List.Item>\r\n                </DatePicker>\r\n\r\n                <Picker\r\n                    data={aera}\r\n                    value={this.state.aeraValue}\r\n                    cols={1}\r\n                    onChange={this.onChangeaera}\r\n                >\r\n                    <List.Item arrow=\"horizontal\">地区</List.Item>\r\n                </Picker>\r\n\r\n                <List style={{marginTop:10}} className=\"my-list\">\r\n                    <Item arrow=\"horizontal\">收货地址管理</Item>\r\n                </List>\r\n                <List style={{marginTop:10}} className=\"my-list\">\r\n                    <Item arrow=\"horizontal\">修改密码</Item>\r\n                </List>\r\n                <div style={{height:200,width:\"100%\",background:\"white\"}}></div>\r\n            </div>\r\n        )\r\n    }\r\n}"],"sourceRoot":""}